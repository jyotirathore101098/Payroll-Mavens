{"ast":null,"code":"var _jsxFileName = \"/Users/jyotirathore101098/Documents/Payroll_Mavens/frontend/src/pages/auth/AuthPage.js\",\n  _s = $RefreshSig$();\n// import React, { useState } from 'react';\n// import axios from 'axios';\n// import { useNavigate } from 'react-router-dom';\n// import './AuthPage.css';\n\n// const API_BASE_URL = 'http://localhost:3000/api/auth';\n\n// const AuthPage = () => {\n//   const [isLogin, setIsLogin] = useState(true);\n//   const [formData, setFormData] = useState({\n//     name: '',\n//     email: '',\n//     password: '',\n//     role: 'Employee',\n//   });\n//   const navigate = useNavigate();\n\n//   const handleChange = (e) => {\n//     setFormData({ ...formData, [e.target.name]: e.target.value });\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     try {\n//       if (isLogin) {\n//         const res = await axios.post(`${API_BASE_URL}/login`, {\n//           email: formData.email,\n//           password: formData.password,\n//         });\n//         localStorage.setItem('token', res.data.token);\n//         localStorage.setItem('user', JSON.stringify(res.data.user));\n//         const user = res.data.user;\n//         alert(`Login successful. Welcome ${user ? user.name : 'User'}`);\n//         navigate('/payroll');\n//       } else {\n//         await axios.post(`${API_BASE_URL}/register`, formData);\n//         alert('Registration successful. You can now login.');\n//         setIsLogin(true);\n//       }\n//     } catch (err) {\n//       let errorMsg = 'Something went wrong';\n//       if (err.response) {\n//         errorMsg = err.response.data?.message || JSON.stringify(err.response.data) || err.message;\n//       } else if (err.request) {\n//         errorMsg = 'No response from server. Is backend running?';\n//       } else {\n//         errorMsg = err.message;\n//       }\n//       alert('Error: ' + errorMsg);\n//       console.error('Auth error:', err);\n//     }\n//   };\n\n//   return (\n//     <div className=\"auth-container\">\n//       <h1 className=\"auth-logo\">Payroll maven</h1>\n//       <h2 className=\"auth-title\">{isLogin ? 'Login' : 'Register'}</h2>\n//       <form className=\"auth-form\" onSubmit={handleSubmit}>\n//         {!isLogin && (\n//           <input\n//             type=\"text\"\n//             name=\"name\"\n//             placeholder=\"Full Name\"\n//             value={formData.name}\n//             onChange={handleChange}\n//             required\n//             className=\"auth-input\"\n//           />\n//         )}\n//         <input\n//           type=\"email\"\n//           name=\"email\"\n//           placeholder=\"Email\"\n//           value={formData.email}\n//           onChange={handleChange}\n//           required\n//           className=\"auth-input\"\n//         />\n//         <input\n//           type=\"password\"\n//           name=\"password\"\n//           placeholder=\"Password\"\n//           value={formData.password}\n//           onChange={handleChange}\n//           required\n//           className=\"auth-input\"\n//         />\n//         {!isLogin && (\n//           <select name=\"role\" value={formData.role} onChange={handleChange} className=\"auth-select\">\n//             <option value=\"Admin\">Admin</option>\n//             <option value=\"HR\">HR</option>\n//             <option value=\"Employee\">Employee</option>\n//           </select>\n//         )}\n//         <button type=\"submit\" className=\"auth-button\">\n//           {isLogin ? 'Login' : 'Register'}\n//         </button>\n//       </form>\n//       <div  className=\"auth-footer\">\n//         {isLogin ? \"Don't have an account?\" : 'Already have an account?'}{' '}\n//         <button type=\"button\" onClick={() => setIsLogin(!isLogin)} className=\"auth-switch\">\n//           {isLogin ? 'Register' : 'Login'}\n//         </button>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default AuthPage;\n// AuthPage.js\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { login, register } from \"./authService\";\nimport AuthForm from \"./AuthForm\";\nimport \"./AuthPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthPage = () => {\n  _s();\n  const [isLogin, setIsLogin] = useState(true);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    role: \"Employee\"\n  });\n  const navigate = useNavigate();\n  const handleChange = e => setFormData({\n    ...formData,\n    [e.target.name]: e.target.value\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (isLogin) {\n        var _data$user;\n        const data = await login(formData.email, formData.password);\n        localStorage.setItem(\"token\", data.token);\n        localStorage.setItem(\"user\", JSON.stringify(data.user));\n        alert(`Login successful. Welcome ${((_data$user = data.user) === null || _data$user === void 0 ? void 0 : _data$user.name) || \"User\"}`);\n        navigate(\"/payroll\");\n      } else {\n        await register(formData);\n        alert(\"Registration successful. You can now login.\");\n        setIsLogin(true);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response2;\n      let errorMsg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || JSON.stringify((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data) || err.message || \"Something went wrong\";\n      alert(\"Error: \" + errorMsg);\n      console.error(\"Auth error:\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"auth-logo\",\n      children: \"Payroll Maven\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"auth-title\",\n      children: isLogin ? \"Login\" : \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AuthForm, {\n      isLogin: isLogin,\n      formData: formData,\n      onChange: handleChange,\n      onSubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-footer\",\n      children: [isLogin ? \"Don't have an account?\" : \"Already have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setIsLogin(!isLogin),\n        className: \"auth-switch\",\n        children: isLogin ? \"Register\" : \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthPage, \"Nt9M3Pz6zu+tvF5NOCqRq2CMAZM=\", false, function () {\n  return [useNavigate];\n});\n_c = AuthPage;\nexport default AuthPage;\nvar _c;\n$RefreshReg$(_c, \"AuthPage\");","map":{"version":3,"names":["React","useState","useNavigate","login","register","AuthForm","jsxDEV","_jsxDEV","AuthPage","_s","isLogin","setIsLogin","formData","setFormData","name","email","password","role","navigate","handleChange","e","target","value","handleSubmit","preventDefault","_data$user","data","localStorage","setItem","token","JSON","stringify","user","alert","err","_err$response","_err$response$data","_err$response2","errorMsg","response","message","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onSubmit","type","onClick","_c","$RefreshReg$"],"sources":["/Users/jyotirathore101098/Documents/Payroll_Mavens/frontend/src/pages/auth/AuthPage.js"],"sourcesContent":["\n// import React, { useState } from 'react';\n// import axios from 'axios';\n// import { useNavigate } from 'react-router-dom';\n// import './AuthPage.css';\n\n// const API_BASE_URL = 'http://localhost:3000/api/auth';\n\n// const AuthPage = () => {\n//   const [isLogin, setIsLogin] = useState(true);\n//   const [formData, setFormData] = useState({\n//     name: '',\n//     email: '',\n//     password: '',\n//     role: 'Employee',\n//   });\n//   const navigate = useNavigate();\n\n//   const handleChange = (e) => {\n//     setFormData({ ...formData, [e.target.name]: e.target.value });\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     try {\n//       if (isLogin) {\n//         const res = await axios.post(`${API_BASE_URL}/login`, {\n//           email: formData.email,\n//           password: formData.password,\n//         });\n//         localStorage.setItem('token', res.data.token);\n//         localStorage.setItem('user', JSON.stringify(res.data.user));\n//         const user = res.data.user;\n//         alert(`Login successful. Welcome ${user ? user.name : 'User'}`);\n//         navigate('/payroll');\n//       } else {\n//         await axios.post(`${API_BASE_URL}/register`, formData);\n//         alert('Registration successful. You can now login.');\n//         setIsLogin(true);\n//       }\n//     } catch (err) {\n//       let errorMsg = 'Something went wrong';\n//       if (err.response) {\n//         errorMsg = err.response.data?.message || JSON.stringify(err.response.data) || err.message;\n//       } else if (err.request) {\n//         errorMsg = 'No response from server. Is backend running?';\n//       } else {\n//         errorMsg = err.message;\n//       }\n//       alert('Error: ' + errorMsg);\n//       console.error('Auth error:', err);\n//     }\n//   };\n\n//   return (\n//     <div className=\"auth-container\">\n//       <h1 className=\"auth-logo\">Payroll maven</h1>\n//       <h2 className=\"auth-title\">{isLogin ? 'Login' : 'Register'}</h2>\n//       <form className=\"auth-form\" onSubmit={handleSubmit}>\n//         {!isLogin && (\n//           <input\n//             type=\"text\"\n//             name=\"name\"\n//             placeholder=\"Full Name\"\n//             value={formData.name}\n//             onChange={handleChange}\n//             required\n//             className=\"auth-input\"\n//           />\n//         )}\n//         <input\n//           type=\"email\"\n//           name=\"email\"\n//           placeholder=\"Email\"\n//           value={formData.email}\n//           onChange={handleChange}\n//           required\n//           className=\"auth-input\"\n//         />\n//         <input\n//           type=\"password\"\n//           name=\"password\"\n//           placeholder=\"Password\"\n//           value={formData.password}\n//           onChange={handleChange}\n//           required\n//           className=\"auth-input\"\n//         />\n//         {!isLogin && (\n//           <select name=\"role\" value={formData.role} onChange={handleChange} className=\"auth-select\">\n//             <option value=\"Admin\">Admin</option>\n//             <option value=\"HR\">HR</option>\n//             <option value=\"Employee\">Employee</option>\n//           </select>\n//         )}\n//         <button type=\"submit\" className=\"auth-button\">\n//           {isLogin ? 'Login' : 'Register'}\n//         </button>\n//       </form>\n//       <div  className=\"auth-footer\">\n//         {isLogin ? \"Don't have an account?\" : 'Already have an account?'}{' '}\n//         <button type=\"button\" onClick={() => setIsLogin(!isLogin)} className=\"auth-switch\">\n//           {isLogin ? 'Register' : 'Login'}\n//         </button>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default AuthPage;\n// AuthPage.js\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { login, register } from \"./authService\";\nimport AuthForm from \"./AuthForm\";\nimport \"./AuthPage.css\";\n\nconst AuthPage = () => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    role: \"Employee\",\n  });\n\n  const navigate = useNavigate();\n\n  const handleChange = (e) =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (isLogin) {\n        const data = await login(formData.email, formData.password);\n        localStorage.setItem(\"token\", data.token);\n        localStorage.setItem(\"user\", JSON.stringify(data.user));\n        alert(`Login successful. Welcome ${data.user?.name || \"User\"}`);\n        navigate(\"/payroll\");\n      } else {\n        await register(formData);\n        alert(\"Registration successful. You can now login.\");\n        setIsLogin(true);\n      }\n    } catch (err) {\n      let errorMsg =\n        err.response?.data?.message ||\n        JSON.stringify(err.response?.data) ||\n        err.message ||\n        \"Something went wrong\";\n      alert(\"Error: \" + errorMsg);\n      console.error(\"Auth error:\", err);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <h1 className=\"auth-logo\">Payroll Maven</h1>\n      <h2 className=\"auth-title\">{isLogin ? \"Login\" : \"Register\"}</h2>\n\n      <AuthForm\n        isLogin={isLogin}\n        formData={formData}\n        onChange={handleChange}\n        onSubmit={handleSubmit}\n      />\n\n      <div className=\"auth-footer\">\n        {isLogin ? \"Don't have an account?\" : \"Already have an account?\"}{\" \"}\n        <button\n          type=\"button\"\n          onClick={() => setIsLogin(!isLogin)}\n          className=\"auth-switch\"\n        >\n          {isLogin ? \"Register\" : \"Login\"}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthPage;\n"],"mappings":";;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,EAAEC,QAAQ,QAAQ,eAAe;AAC/C,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAO,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExB,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC;IACvCa,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,IAAI,EAAE;EACR,CAAC,CAAC;EAEF,MAAMC,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EAE9B,MAAMiB,YAAY,GAAIC,CAAC,IACrBP,WAAW,CAAC;IAAE,GAAGD,QAAQ;IAAE,CAACQ,CAAC,CAACC,MAAM,CAACP,IAAI,GAAGM,CAAC,CAACC,MAAM,CAACC;EAAM,CAAC,CAAC;EAE/D,MAAMC,YAAY,GAAG,MAAOH,CAAC,IAAK;IAChCA,CAAC,CAACI,cAAc,CAAC,CAAC;IAClB,IAAI;MACF,IAAId,OAAO,EAAE;QAAA,IAAAe,UAAA;QACX,MAAMC,IAAI,GAAG,MAAMvB,KAAK,CAACS,QAAQ,CAACG,KAAK,EAAEH,QAAQ,CAACI,QAAQ,CAAC;QAC3DW,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACG,KAAK,CAAC;QACzCF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEE,IAAI,CAACC,SAAS,CAACL,IAAI,CAACM,IAAI,CAAC,CAAC;QACvDC,KAAK,CAAC,6BAA6B,EAAAR,UAAA,GAAAC,IAAI,CAACM,IAAI,cAAAP,UAAA,uBAATA,UAAA,CAAWX,IAAI,KAAI,MAAM,EAAE,CAAC;QAC/DI,QAAQ,CAAC,UAAU,CAAC;MACtB,CAAC,MAAM;QACL,MAAMd,QAAQ,CAACQ,QAAQ,CAAC;QACxBqB,KAAK,CAAC,6CAA6C,CAAC;QACpDtB,UAAU,CAAC,IAAI,CAAC;MAClB;IACF,CAAC,CAAC,OAAOuB,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA,EAAAC,cAAA;MACZ,IAAIC,QAAQ,GACV,EAAAH,aAAA,GAAAD,GAAG,CAACK,QAAQ,cAAAJ,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcT,IAAI,cAAAU,kBAAA,uBAAlBA,kBAAA,CAAoBI,OAAO,KAC3BV,IAAI,CAACC,SAAS,EAAAM,cAAA,GAACH,GAAG,CAACK,QAAQ,cAAAF,cAAA,uBAAZA,cAAA,CAAcX,IAAI,CAAC,IAClCQ,GAAG,CAACM,OAAO,IACX,sBAAsB;MACxBP,KAAK,CAAC,SAAS,GAAGK,QAAQ,CAAC;MAC3BG,OAAO,CAACC,KAAK,CAAC,aAAa,EAAER,GAAG,CAAC;IACnC;EACF,CAAC;EAED,oBACE3B,OAAA;IAAKoC,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC7BrC,OAAA;MAAIoC,SAAS,EAAC,WAAW;MAAAC,QAAA,EAAC;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5CzC,OAAA;MAAIoC,SAAS,EAAC,YAAY;MAAAC,QAAA,EAAElC,OAAO,GAAG,OAAO,GAAG;IAAU;MAAAmC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAEhEzC,OAAA,CAACF,QAAQ;MACPK,OAAO,EAAEA,OAAQ;MACjBE,QAAQ,EAAEA,QAAS;MACnBqC,QAAQ,EAAE9B,YAAa;MACvB+B,QAAQ,EAAE3B;IAAa;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC,eAEFzC,OAAA;MAAKoC,SAAS,EAAC,aAAa;MAAAC,QAAA,GACzBlC,OAAO,GAAG,wBAAwB,GAAG,0BAA0B,EAAE,GAAG,eACrEH,OAAA;QACE4C,IAAI,EAAC,QAAQ;QACbC,OAAO,EAAEA,CAAA,KAAMzC,UAAU,CAAC,CAACD,OAAO,CAAE;QACpCiC,SAAS,EAAC,aAAa;QAAAC,QAAA,EAEtBlC,OAAO,GAAG,UAAU,GAAG;MAAO;QAAAmC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACvC,EAAA,CA/DID,QAAQ;EAAA,QASKN,WAAW;AAAA;AAAAmD,EAAA,GATxB7C,QAAQ;AAiEd,eAAeA,QAAQ;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}