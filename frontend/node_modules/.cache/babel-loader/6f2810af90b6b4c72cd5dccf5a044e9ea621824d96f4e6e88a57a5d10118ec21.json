{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nconst API_BASE_URL = \"http://localhost:3000/api/leaves\";\nexport const useLeaves = () => {\n  _s();\n  const [leaves, setLeaves] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const fetchLeaves = async () => {\n    setLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.get(API_BASE_URL, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setLeaves(res.data);\n    } catch (err) {\n      console.error(\"Fetch leaves error:\", err);\n      alert(\"Failed to fetch leaves\");\n    }\n    setLoading(false);\n  };\n  const addLeave = async data => {\n    const token = localStorage.getItem(\"token\");\n    await axios.post(`${API_BASE_URL}/createLeave`, data, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    fetchLeaves();\n  };\n  const updateLeave = async (id, data) => {\n    const token = localStorage.getItem(\"token\");\n    await axios.put(`${API_BASE_URL}/${id}`, data, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    fetchLeaves();\n  };\n  const deleteLeave = async id => {\n    const token = localStorage.getItem(\"token\");\n    await axios.delete(`${API_BASE_URL}/${id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    fetchLeaves();\n  };\n  useEffect(() => {\n    fetchLeaves();\n  }, []);\n  return {\n    leaves,\n    loading,\n    addLeave,\n    updateLeave,\n    deleteLeave\n  };\n};\n_s(useLeaves, \"mJ/yR7+vCuwyIffm5rDbW1kaQjo=\");","map":{"version":3,"names":["useState","useEffect","axios","API_BASE_URL","useLeaves","_s","leaves","setLeaves","loading","setLoading","fetchLeaves","token","localStorage","getItem","res","get","headers","Authorization","data","err","console","error","alert","addLeave","post","updateLeave","id","put","deleteLeave","delete"],"sources":["/Users/jyotirathore101098/Documents/Payroll_Mavens/frontend/src/pages/leaves/useLeaves.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst API_BASE_URL = \"http://localhost:3000/api/leaves\";\n\nexport const useLeaves = () => {\n  const [leaves, setLeaves] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const fetchLeaves = async () => {\n    setLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.get(API_BASE_URL, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setLeaves(res.data);\n    } catch (err) {\n      console.error(\"Fetch leaves error:\", err);\n      alert(\"Failed to fetch leaves\");\n    }\n    setLoading(false);\n  };\n\n  const addLeave = async (data) => {\n    const token = localStorage.getItem(\"token\");\n    await axios.post(`${API_BASE_URL}/createLeave`, data, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    fetchLeaves();\n  };\n\n  const updateLeave = async (id, data) => {\n    const token = localStorage.getItem(\"token\");\n    await axios.put(`${API_BASE_URL}/${id}`, data, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    fetchLeaves();\n  };\n\n  const deleteLeave = async (id) => {\n    const token = localStorage.getItem(\"token\");\n    await axios.delete(`${API_BASE_URL}/${id}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    fetchLeaves();\n  };\n\n  useEffect(() => {\n    fetchLeaves();\n  }, []);\n\n  return { leaves, loading, addLeave, updateLeave, deleteLeave };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG,kCAAkC;AAEvD,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMU,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9BD,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAME,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,MAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAACZ,YAAY,EAAE;QACxCa,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUN,KAAK;QAAG;MAC9C,CAAC,CAAC;MACFJ,SAAS,CAACO,GAAG,CAACI,IAAI,CAAC;IACrB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEF,GAAG,CAAC;MACzCG,KAAK,CAAC,wBAAwB,CAAC;IACjC;IACAb,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,MAAMc,QAAQ,GAAG,MAAOL,IAAI,IAAK;IAC/B,MAAMP,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMX,KAAK,CAACsB,IAAI,CAAC,GAAGrB,YAAY,cAAc,EAAEe,IAAI,EAAE;MACpDF,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUN,KAAK;MAAG;IAC9C,CAAC,CAAC;IACFD,WAAW,CAAC,CAAC;EACf,CAAC;EAED,MAAMe,WAAW,GAAG,MAAAA,CAAOC,EAAE,EAAER,IAAI,KAAK;IACtC,MAAMP,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMX,KAAK,CAACyB,GAAG,CAAC,GAAGxB,YAAY,IAAIuB,EAAE,EAAE,EAAER,IAAI,EAAE;MAC7CF,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUN,KAAK;MAAG;IAC9C,CAAC,CAAC;IACFD,WAAW,CAAC,CAAC;EACf,CAAC;EAED,MAAMkB,WAAW,GAAG,MAAOF,EAAE,IAAK;IAChC,MAAMf,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMX,KAAK,CAAC2B,MAAM,CAAC,GAAG1B,YAAY,IAAIuB,EAAE,EAAE,EAAE;MAC1CV,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUN,KAAK;MAAG;IAC9C,CAAC,CAAC;IACFD,WAAW,CAAC,CAAC;EACf,CAAC;EAEDT,SAAS,CAAC,MAAM;IACdS,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEJ,MAAM;IAAEE,OAAO;IAAEe,QAAQ;IAAEE,WAAW;IAAEG;EAAY,CAAC;AAChE,CAAC;AAACvB,EAAA,CAhDWD,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}